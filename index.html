<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta
    name="viewport"
    content="width=device-width,initial-scale=1,viewport-fit=cover">
  <title>Me-Moon AL Checker</title>
  <meta name="color-scheme" content="dark light">

  <!-- ===== minimal styles（JSが付ける .on / .off で判別しやすく） ===== -->
  <style>
    :root{
      --bg:#0b1622; --card:#0f2233; --card-2:#11293e; --text:#eaf2fb;
      --muted:#9bb2c8; --ring:#203a54; --shadow:rgba(0,0,0,.35);
      --pill:#1a2f44; --pill-bd:#2b4866; --ok:#7ce2a0; --ng:#70839a;
      --g1:#a8e6ff; --g2:#caa8ff;
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--text);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Hiragino Kaku Gothic ProN","Noto Sans JP",sans-serif}
    .wrap{max-width:820px;margin:0 auto;padding:24px 18px 56px}
    header{display:flex;gap:12px;align-items:center;margin:4px 0 20px}
    .logo{width:44px;height:44px;border-radius:12px;background:#ffe17d;box-shadow:0 10px 30px var(--shadow)}
    h1{font-weight:800;font-size:clamp(22px,4.5vw,36px);line-height:1.1;margin:0}
    .sub{color:var(--muted);margin-top:6px}

    .card{background:linear-gradient(180deg,var(--card),var(--card-2));border:1px solid var(--ring);
      border-radius:18px;box-shadow:0 10px 30px var(--shadow);padding:18px;margin:18px 0}
    .field{display:flex;flex-direction:column;gap:12px}
    .input{
      width:100%;padding:16px 16px;border-radius:14px;background:#0a1a28;border:1px solid var(--ring);
      color:var(--text);font-size:18px;outline:none;box-shadow:inset 0 0 0 1px transparent;
    }
    .btn{
      display:inline-flex;justify-content:center;align-items:center;gap:8px;
      width:100%;padding:14px 16px;border-radius:14px;border:0;
      background:linear-gradient(90deg,var(--g1),var(--g2));color:#0a0d12;
      font-weight:800;font-size:18px;letter-spacing:.04em;cursor:pointer;
      box-shadow:0 10px 30px rgba(90,150,255,.25);
      transition:transform .04s ease,filter .12s ease;
      -webkit-tap-highlight-color:transparent;
    }
    .btn:active{transform:translateY(1px)}
    .group-title{font-weight:900;font-size:22px;margin:4px 0 10px}

    /* result rows */
    .res-panel .who{color:var(--muted);margin:2px 0 12px}
    .al-row{background:#0c1f32;border:1px solid var(--ring);border-radius:16px;padding:16px;
      display:flex;align-items:center;gap:12px;margin:12px 0}
    .dot{width:12px;height:12px;border-radius:50%}
    .dot.o{background:#ffb21a}.dot.g{background:#34e27c}
    .dot.p{background:#b485ff}.dot.pink{background:#ff7bb0}
    .al-title{font-weight:800;font-size:20px;letter-spacing:.06em;flex:1;display:flex;align-items:center;gap:8px}
    .pills{display:flex;gap:12px}
    .pill{
      min-width:92px;padding:10px 16px;border-radius:999px;border:1px solid var(--pill-bd);
      background:var(--pill);color:var(--ng);font-weight:800;text-align:center;
      letter-spacing:.05em;user-select:none;
      transition:background .15s ease,color .15s ease,box-shadow .15s ease,border-color .15s ease;
    }
    .pill.on{background:linear-gradient(90deg,var(--g1),var(--g2));color:#0a0d12;border-color:transparent;
      box-shadow:0 6px 22px rgba(145,200,255,.35)}
    .pill.off{opacity:.55}

    /* blur gallery */
    .card-head{display:flex;justify-content:space-between;align-items:center;gap:12px}
    .blur-figure{margin:16px 0 0;position:relative;border-radius:18px;overflow:hidden}
    .blur-figure img{display:block;width:100%;aspect-ratio:4/3;object-fit:cover;background:#07121c}
    figcaption{
      position:absolute;left:12px;bottom:12px;padding:.35rem .6rem;border-radius:12px;
      background:rgba(0,0,0,.55);backdrop-filter:saturate(1.4) blur(6px);
      color:#dfe9f7;font-weight:700;font-size:14px
    }

    /* footer */
    footer{margin:28px 0 0;text-align:center;color:var(--muted)}
  </style>
</head>
<body>
  <main class="wrap">

    <!-- ===== Header ===== -->
    <header>
      <div class="logo" aria-hidden="true" style="display:inline-block;border-radius:12px"></div>
      <div>
        <h1>Me-Moon AL Checker</h1>
        <div class="sub">slug を入力して検索</div>
      </div>
    </header>

    <!-- ===== Search Card ===== -->
    <section class="card">
      <div class="field">
        <input id="slugInput" class="input" type="text" inputmode="search" autocomplete="off"
               placeholder="slug を入力">
        <button id="searchBtn" type="button" class="btn">検索</button>
      </div>
    </section>

    <!-- ===== Result ===== -->
    <section id="resultCard" class="card res-panel">
      <div class="group-title">照会結果</div>
      <div class="who" id="resultWho">未検索です。</div>

      <!-- 4カテゴリ分の表示。JSが .on / .off を切り替える -->
      <div class="al-row" data-key="charge">
        <span class="dot o" aria-hidden="true"></span>
        <div class="al-title">チャージ</div>
        <div class="pills">
          <div id="r-charge-1" class="pill off" aria-label="チャージ AL①">AL①</div>
          <div id="r-charge-2" class="pill off" aria-label="チャージ AL②">AL②</div>
        </div>
      </div>

      <div class="al-row" data-key="nft">
        <span class="dot g" aria-hidden="true"></span>
        <div class="al-title">NFTコラボ</div>
        <div class="pills">
          <div id="r-nft-1" class="pill off" aria-label="NFTコラボ AL①">AL①</div>
          <div id="r-nft-2" class="pill off" aria-label="NFTコラボ AL②">AL②</div>
        </div>
      </div>

      <div class="al-row" data-key="guild">
        <span class="dot p" aria-hidden="true"></span>
        <div class="al-title">ギルドミッション</div>
        <div class="pills">
          <div id="r-guild-1" class="pill off" aria-label="ギルドミッション AL①">AL①</div>
          <div id="r-guild-2" class="pill off" aria-label="ギルドミッション AL②">AL②</div>
        </div>
      </div>

      <div class="al-row" data-key="greet">
        <span class="dot pink" aria-hidden="true"></span>
        <div class="al-title">挨拶タップ</div>
        <div class="pills">
          <div id="r-greet-1" class="pill off" aria-label="挨拶タップ AL①">AL①</div>
          <div id="r-greet-2" class="pill off" aria-label="挨拶タップ AL②">AL②</div>
        </div>
      </div>
    </section>

    <!-- ===== AL 種類（固定の見本。JSとは無関係） ===== -->
    <section class="card">
      <div class="group-title">AL の種類</div>

      <div class="al-row">
        <span class="dot o" aria-hidden="true"></span>
        <div class="al-title">チャージ</div>
        <div class="pills"><div class="pill">AL①</div><div class="pill">AL②</div></div>
      </div>

      <div class="al-row">
        <span class="dot g" aria-hidden="true"></span>
        <div class="al-title">NFTコラボ</div>
        <div class="pills"><div class="pill">AL①</div><div class="pill">AL②</div></div>
      </div>

      <div class="al-row">
        <span class="dot p" aria-hidden="true"></span>
        <div class="al-title">ギルドミッション</div>
        <div class="pills"><div class="pill">AL①</div><div class="pill">AL②</div></div>
      </div>

      <div class="al-row">
        <span class="dot pink" aria-hidden="true"></span>
        <div class="al-title">挨拶タップ</div>
        <div class="pills"><div class="pill">AL①</div><div class="pill">AL②</div></div>
      </div>
    </section>

    <!-- ===== みんなのブレ撮り ===== -->
    <section id="blurs" class="card">
      <div class="card-head">
        <h2 class="group-title" style="margin:0">みんなのブレ撮り</h2>
        <button id="blurRefresh" type="button" class="btn" style="width:auto;padding:10px 16px;font-size:16px">更新</button>
      </div>
      <figure class="blur-figure">
        <img id="blurImg" alt="ブレ撮り" loading="lazy" decoding="async">
        <figcaption id="blurCap"></figcaption>
      </figure>
    </section>

    <footer>© Me-Moon</footer>
  </main>

  <!-- 既存のロジック -->
  <script src="app.js"></script>
</body>
</html>
